# 6. 用法示例（扩展）

以下展示在测试、脚本或构建工具中集成 codegen 的常见模式。

## 极简脚本

```kotlin
fun main() {
  init("config.toml")
  TemplateConfig.template {
    +"package $packageName"
    +""
    +imports.joinToString("\n") { "import $it" }
    +""
    +formatedComment
    +"@Table(name = \"$tableName\")"
    +indexes.toAnnotations()
    +"data class $className("
    fields.forEach { f ->
      f.annotations().forEach { +"    $it" }
      +"    var ${f.name}: ${f.kotlinType}? = null,"
    }
    +"): KPojo"
  }.write()
}
```

## 测试模式

- 参考 `kronos-testing/src/test/kotlin/com/kotlinorm/codegen/CodeGenerateTest.kt`，其中通过断言逐行校验输出。

## 小贴士

- 为保证 PR diff 稳定，除非需要，不要在模板中输出当前时间。
- 使用 `tableCommentLineWords` 控制头部注释换行宽度。