# 2. 目录结构与关键类

源码根路径：`kronos-jdbc-wrapper/src/main/kotlin/com/kotlinorm`

- KronosBasicWrapper(DataSource)
  - 通过 JDBC 元数据探测 url/userName/dbType；
  - 查询链路：task.parsed() -> PreparedStatement -> executeQuery -> ResultSet -> toMapList()/toObjectList()/toKPojoList()；
  - 变更链路：task.parsed() -> executeUpdate；
  - 批量链路：task.parsedArr() -> addBatch() -> executeBatch()；
  - 事务：transact { ... } 设置 autoCommit=false 并在成功时提交、异常时回滚。
- 内部辅助
  - PreparedStatement.setParameters(params)：安全绑定数组/集合/常见 JVM 类型；
  - Oracle 专项：可滚动只读 ResultSet 选项与 LONG 列两阶段读取规避流关闭问题；
  - KPojo 构造：依赖核心的字段映射缓存与类型安全赋值。

契约引用（位于 kronos-core）：
- interfaces/KronosDataSourceWrapper
- interfaces/KAtomicQueryTask / KAtomicActionTask
- beans/task/KronosAtomicBatchTask
- enums/DBType（含 Oracle 辅助）
