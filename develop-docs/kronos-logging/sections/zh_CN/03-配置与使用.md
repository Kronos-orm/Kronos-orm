# 3. 配置与使用

1) 开箱即用：自动检测

在常见场景中，kronos-logging 会自动探测可用后端（优先尝试 SLF4J/JUL/Commons/Android，不可用则回退内置 Logger），无需手动调用。

2) 可选：显式触发检测（仅当你需要控制检测时机）

```kotlin
fun main() {
    // 可选：手动触发，一般并不需要
    KronosLoggerApp.detectLoggerImplementation()
}
```

3) 强制指定后端

```kotlin
fun main() {
    Kronos.loggerType = KLoggerType.SLF4J_LOGGER
    Kronos.defaultLogger = { clazz -> Slf4jLoggerAdapter(clazz.toString()) }
}
```

4) 配置内置简单 Logger（默认）

```kotlin
fun main() {
    Kronos.logPath = mutableListOf("console") // 或 ["/var/log/app"] 输出到文件
    BundledSimpleLoggerAdapter.logDateTimeFormat = "yyyy-MM-dd HH:mm:ss.SSS"
    BundledSimpleLoggerAdapter.debugEnabled = true
}
```

说明
- kronos-core 在任务执行点输出结构化日志（KLogMessage）：SQL、绑定参数、影响行数/结果条数等；
- 也可完全替换 Kronos.defaultLogger 工厂以自定义日志行为；
- 如存在多个后端，探测器按优先级（Android -> Commons -> JDK -> SLF4J -> Bundled）选择首个可用实现。
