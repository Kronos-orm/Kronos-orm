import{a as i}from"./chunk-D7XGFYXQ.js";import{a as h}from"./chunk-4FO7WJ36.js";import{a as l}from"./chunk-LVHT47OW.js";import{F as w}from"./chunk-LWH7SIW3.js";import{Pb as g,jc as r,kc as t,ra as o,xb as c}from"./chunk-TLBD5JYT.js";import{a as p,b as d,g as k}from"./chunk-ODN5LVDJ.js";var u=k(w());var f={title:"Reference Update",mdFile:"./index.md",category:i,order:3},a=f;var j=[];var S={},m=S;var D='<h1 id="reference-update" class="ngde">Reference Update<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/advanced/reference-update#reference-update"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h1><h2 id="configuring-cascade-relationships" class="ngde">Configuring Cascade Relationships<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/advanced/reference-update#configuring-cascade-relationships"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2><p class="ngde">By configuring the column associations of <code class="ngde">KPojo</code> with the <a href="/documentation/en/class-definition/table-class-definition#column-association-setting" class="ngde">[column association settings]</a> directive and specifying the relationship information in <code class="ngde">@Reference</code> with the <code class="ngde">usage</code> property containing <code class="ngde">Update</code> (or not specifying it, using the default), you can enable the cascading update feature for this class (or being) by specifying the associated fields.</p><pre class="ngde hljs"><code class="hljs language-kotlin code-lines ngde" lang="kotlin" name="kotlin" icon="kotlin" highlightedlines="[6,14,15,16,17,18,26,27,28,29,30,31,32,33]"><span class="line ngde"><span class="hljs-meta ngde">@Table(<span class="hljs-string ngde">"school"</span>)</span>\n</span><span class="line ngde"><span class="hljs-keyword ngde">data</span> <span class="hljs-keyword ngde">class</span> <span class="hljs-title class_ ngde">School</span>(\n</span><span class="line ngde">    <span class="hljs-meta ngde">@PrimaryKey(identity = true)</span>\n</span><span class="line ngde">    <span class="hljs-keyword ngde">var</span> id: <span class="hljs-built_in ngde">Int</span>? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line ngde">    <span class="hljs-keyword ngde">var</span> name: String? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line highlighted ngde">    <span class="hljs-keyword ngde">var</span> groupClass: List&#x3C;GroupClass>? = <span class="hljs-literal ngde">null</span>\n</span><span class="line ngde">) : KPojo\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-meta ngde">@Table(<span class="hljs-string ngde">"group_class"</span>)</span>\n</span><span class="line ngde"><span class="hljs-keyword ngde">data</span> <span class="hljs-keyword ngde">class</span> <span class="hljs-title class_ ngde">GroupClass</span>(\n</span><span class="line ngde">    <span class="hljs-meta ngde">@PrimaryKey(identity = true)</span>\n</span><span class="line ngde">    <span class="hljs-keyword ngde">var</span> id: <span class="hljs-built_in ngde">Int</span>? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line ngde">    <span class="hljs-keyword ngde">val</span> name: String? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line highlighted ngde">    <span class="hljs-meta ngde">@NotNull</span>\n</span><span class="line highlighted ngde">    <span class="hljs-keyword ngde">var</span> schoolName: String? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line highlighted ngde">    <span class="hljs-meta ngde">@Reference([<span class="hljs-string ngde">"schoolName"</span>], [<span class="hljs-string ngde">"name"</span>], mapperBy = School::class)</span>\n</span><span class="line highlighted ngde">    <span class="hljs-keyword ngde">var</span> school: School? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line highlighted ngde">    <span class="hljs-keyword ngde">var</span> students: List&#x3C;Student>? = <span class="hljs-literal ngde">null</span>\n</span><span class="line ngde">) : KPojo\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-meta ngde">@Table(<span class="hljs-string ngde">"student"</span>)</span>\n</span><span class="line ngde"><span class="hljs-keyword ngde">data</span> <span class="hljs-keyword ngde">class</span> <span class="hljs-title class_ ngde">Student</span>(\n</span><span class="line ngde">    <span class="hljs-meta ngde">@PrimaryKey(identity = true)</span>\n</span><span class="line ngde">    <span class="hljs-keyword ngde">var</span> id: <span class="hljs-built_in ngde">Int</span>? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line ngde">    <span class="hljs-keyword ngde">var</span> name: String? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line highlighted ngde">    <span class="hljs-keyword ngde">var</span> schoolName: String? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line highlighted ngde">    <span class="hljs-keyword ngde">var</span> groupClassName: String? = <span class="hljs-literal ngde">null</span>,\n</span><span class="line highlighted ngde">    <span class="hljs-meta ngde">@Reference(</span>\n</span><span class="line highlighted ngde"><span class="hljs-meta ngde">        [</span><span class="hljs-string ngde">"groupClassName"</span>, <span class="hljs-string ngde">"schoolName"</span><span class="hljs-meta ngde">],</span>\n</span><span class="line highlighted ngde"><span class="hljs-meta ngde">        [</span><span class="hljs-string ngde">"name"</span>, <span class="hljs-string ngde">"schoolName"</span><span class="hljs-meta ngde">],</span>\n</span><span class="line highlighted ngde"><span class="hljs-meta ngde">        mapperBy = GroupClass::class</span>\n</span><span class="line highlighted ngde"><span class="hljs-meta ngde">    )</span>\n</span><span class="line highlighted ngde">    <span class="hljs-keyword ngde">var</span> groupClass: GroupClass? = <span class="hljs-literal ngde">null</span>\n</span><span class="line ngde">) : KPojo\n</span></code></pre><h2 id="using-the-cascade-setting-for-current-cascade-operations" class="ngde">Using the <span style="color: #DD6666" class="ngde">cascade</span> Setting for Current Cascade Operations<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/advanced/reference-update#using-the-cascade-setting-for-current-cascade-operations"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2><p class="ngde">In Kronos, we can use the <code class="ngde">cascade</code> method to set whether to enable the cascade feature for the current update and limit the maximum cascade levels.</p><p class="ngde"><code class="ngde">KPojo.update().cascade().execute()</code></p><ul class="ngde"><li class="ngde"><code class="ngde">enabled</code>: <code class="ngde">Boolean</code> Manually set whether to enable the cascade feature for the current update (optional, defaults to <code class="ngde">true</code> for enabling cascade).</li><li class="ngde"><code class="ngde">depth</code>: <code class="ngde">Int</code> Limits the maximum cascade levels, defaulting to <code class="ngde">-1</code>, which means no limit on cascade levels. <code class="ngde">0</code> indicates no cascade update.</li></ul><h2 id="using-update-and-related-methods-for-cascade-updates" class="ngde">Using <span style="color: #DD6666" class="ngde">update</span> and Related Methods for Cascade Updates<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/advanced/reference-update#using-update-and-related-methods-for-cascade-updates"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2><p class="ngde">The methods and operations for cascading updates are similar to those for <a href="/documentation/en/database/update-records" class="ngde">updating records</a>.</p><ng-doc-tab group="Case 1" name="kotlin" icon="kotlin" class="ngde"><pre class="ngde hljs"><code class="hljs language-kotlin code-lines ngde" lang="kotlin" name="" icon="" highlightedlines="[7,8,9,10,11]"><span class="line ngde">School(name = <span class="hljs-string ngde">"School"</span>).update().<span class="hljs-keyword ngde">set</span> { it.name = <span class="hljs-string ngde">"School2"</span> }.execute()\n</span></code></pre></ng-doc-tab><ng-doc-tab group="Case 1" name="Mysql" icon="mysql" class="ngde"><pre class="ngde hljs"><code class="hljs language-sql code-lines ngde" lang="sql" name="" icon="" highlightedlines="[]"><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> `student` <span class="hljs-keyword ngde">SET</span> `school_name` <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> `id` <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> `name` <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> `student_no` <span class="hljs-operator ngde">=</span> :studentNo <span class="hljs-keyword ngde">AND</span> `school_name` <span class="hljs-operator ngde">=</span> "School" <span class="hljs-keyword ngde">AND</span> `group_class_name` <span class="hljs-operator ngde">=</span> :groupClassName\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> `group_class` <span class="hljs-keyword ngde">SET</span> `school_name` <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> `id` <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> `name` <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> `school_name` <span class="hljs-operator ngde">=</span> "School"\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> `school` <span class="hljs-keyword ngde">SET</span> `name` <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> `id` <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> `name` <span class="hljs-operator ngde">=</span> "School"\n</span></code></pre></ng-doc-tab><ng-doc-tab group="Case 1" name="PostgreSQL" icon="postgres" class="ngde"><pre class="ngde hljs"><code class="hljs language-sql code-lines ngde" lang="sql" name="" icon="" highlightedlines="[]"><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> "student" <span class="hljs-keyword ngde">SET</span> "school_name" <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> "id" <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> "name" <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> "student_no" <span class="hljs-operator ngde">=</span> :studentNo <span class="hljs-keyword ngde">AND</span> "school_name" <span class="hljs-operator ngde">=</span> "School" <span class="hljs-keyword ngde">AND</span> "group_class_name" <span class="hljs-operator ngde">=</span> :groupClassName\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> "group_class" <span class="hljs-keyword ngde">SET</span> "school_name" <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> "id" <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> "name" <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> "school_name" <span class="hljs-operator ngde">=</span> "School"\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> "school" <span class="hljs-keyword ngde">SET</span> "name" <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> "id" <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> "name" <span class="hljs-operator ngde">=</span> "School"\n</span></code></pre></ng-doc-tab><ng-doc-tab group="Case 1" name="SQLite" icon="sqlite" class="ngde"><pre class="ngde hljs"><code class="hljs language-sql code-lines ngde" lang="sql" name="" icon="" highlightedlines="[]"><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> `student` <span class="hljs-keyword ngde">SET</span> `school_name` <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> `id` <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> `name` <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> `student_no` <span class="hljs-operator ngde">=</span> :studentNo <span class="hljs-keyword ngde">AND</span> `school_name` <span class="hljs-operator ngde">=</span> "School" <span class="hljs-keyword ngde">AND</span> `group_class_name` <span class="hljs-operator ngde">=</span> :groupClassName\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> `group_class` <span class="hljs-keyword ngde">SET</span> `school_name` <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> `id` <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> `name` <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> `school_name` <span class="hljs-operator ngde">=</span> "School"\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> `school` <span class="hljs-keyword ngde">SET</span> `name` <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> `id` <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> `name` <span class="hljs-operator ngde">=</span> "School"\n</span></code></pre></ng-doc-tab><ng-doc-tab group="Case 1" name="SQLServer" icon="sqlserver" class="ngde"><pre class="ngde hljs"><code class="hljs language-sql code-lines ngde" lang="sql" name="" icon="" highlightedlines="[]"><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> [student] <span class="hljs-keyword ngde">SET</span> [school_name] <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> [id] <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> [name] <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> [student_no] <span class="hljs-operator ngde">=</span> :studentNo <span class="hljs-keyword ngde">AND</span> [school_name] <span class="hljs-operator ngde">=</span> "School" <span class="hljs-keyword ngde">AND</span> [group_class_name] <span class="hljs-operator ngde">=</span> :groupClassName\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> [group_class] <span class="hljs-keyword ngde">SET</span> [school_name] <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> [id] <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> [name] <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> [school_name] <span class="hljs-operator ngde">=</span> "School"\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> [school] <span class="hljs-keyword ngde">SET</span> [name] <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> [id] <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> [name] <span class="hljs-operator ngde">=</span> "School"\n</span></code></pre></ng-doc-tab><ng-doc-tab group="Case 1" name="Oracle" icon="oracle" class="ngde"><pre class="ngde hljs"><code class="hljs language-sql code-lines ngde" lang="sql" name="" icon="" highlightedlines="[]"><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> "student" <span class="hljs-keyword ngde">SET</span> "school_name" <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> "id" <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> "name" <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> "student_no" <span class="hljs-operator ngde">=</span> :studentNo <span class="hljs-keyword ngde">AND</span> "school_name" <span class="hljs-operator ngde">=</span> "School" <span class="hljs-keyword ngde">AND</span> "group_class_name" <span class="hljs-operator ngde">=</span> :groupClassName\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> "group_class" <span class="hljs-keyword ngde">SET</span> "school_name" <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> "id" <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> "name" <span class="hljs-operator ngde">=</span> :name <span class="hljs-keyword ngde">AND</span> "school_name" <span class="hljs-operator ngde">=</span> "School"\n</span><span class="line ngde">\n</span><span class="line ngde"><span class="hljs-keyword ngde">UPDATE</span> "school" <span class="hljs-keyword ngde">SET</span> "name" <span class="hljs-operator ngde">=</span> "School2" <span class="hljs-keyword ngde">WHERE</span> "id" <span class="hljs-operator ngde">=</span> :id <span class="hljs-keyword ngde">AND</span> "name" <span class="hljs-operator ngde">=</span> "School"\n</span></code></pre></ng-doc-tab>',E=(()=>{let s=class s extends l{constructor(){super(),this.routePrefix="",this.pageType="guide",this.pageContent=D,this.page=a,this.demoAssets=m}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=o({type:s,selectors:[["ng-doc-page-en-advanced-reference-update"]],standalone:!0,features:[r([{provide:l,useExisting:s},j,a.providers??[]]),c,t],decls:1,vars:0,template:function(e,A){e&1&&g(0,"ng-doc-page")},dependencies:[h],encapsulation:2,changeDetection:0});let n=s;return n})(),N=[d(p({},(0,u.isRoute)(a.route)?a.route:{}),{path:"",component:E,title:"Reference Update"})],W=N;export{E as DynamicComponent,W as default};
