import{a as h}from"./chunk-FJ26F7HW.js";import{a as p}from"./chunk-CN3B2NJM.js";import{a as o}from"./chunk-TKZ7FAYE.js";import{G as j}from"./chunk-JSUCXAVI.js";import{Pb as g,jc as t,kc as r,ra as i,xb as c}from"./chunk-TLBD5JYT.js";import{a as l,b as d,g as I}from"./chunk-ODN5LVDJ.js";var f=I(j());var y={title:"Select from Join Tables",mdFile:"./index.md",category:h,order:7},s=y;var u=[];var U={},m=U;var x=`<h1 id="select-from-join-tables" class="ngde">Select from Join Tables<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/database/select-from-join#select-from-join-tables"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h1><h2 id="\u67E5\u8BE2\u591A\u8868\u5173\u8054\u6570\u636E" class="ngde">\u67E5\u8BE2\u591A\u8868\u5173\u8054\u6570\u636E<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/database/select-from-join#\u67E5\u8BE2\u591A\u8868\u5173\u8054\u6570\u636E"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2><p class="ngde">\u5728Kronos\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<code class="ngde">KPojo.join(KPojo1, KPojo2, ...)</code>\u65B9\u6CD5\u6765\u67E5\u8BE2\u591A\u8868\u5173\u8054\u6570\u636E\u3002</p><pre class="ngde hljs"><code class="hljs language-kotlin code-lines ngde" lang="kotlin" name="demo" icon="kotlin" highlightedlines="[2,3,4,5]"><span class="line ngde"><span class="hljs-keyword ngde">val</span> users: List&#x3C;User> = 
</span><span class="line highlighted ngde">    User().join(UserInfo()){ user, userInfo ->
</span><span class="line highlighted ngde">        on { user.id == userInfo.userId }
</span><span class="line highlighted ngde">        select { user.id + user.name + userInfo.age }
</span><span class="line highlighted ngde">    }.query()
</span></code></pre><h2 id="\u6307\u5B9A\u8FDE\u63A5\u6761\u4EF6\u53CA\u8FDE\u63A5\u65B9\u5F0F" class="ngde">\u6307\u5B9A\u8FDE\u63A5\u6761\u4EF6\u53CA\u8FDE\u63A5\u65B9\u5F0F<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/database/select-from-join#\u6307\u5B9A\u8FDE\u63A5\u6761\u4EF6\u53CA\u8FDE\u63A5\u65B9\u5F0F"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2><p class="ngde">\u5728Kronos\u4E2D\uFF0C\u6211\u4EEC\u9ED8\u8BA4\u4F7F\u7528<code class="ngde">left join</code>\u8FDE\u63A5\u591A\u8868\uFF0C\u5982\u679C\u4E0D\u9700\u8981\u6307\u5B9A\u8FDE\u63A5\u65B9\u5F0F\uFF0C\u53EF\u4EE5\u4F7F\u7528<code class="ngde">on</code>\u65B9\u6CD5\u6307\u5B9A\u8FDE\u63A5\u6761\u4EF6\u3002</p><pre class="ngde hljs"><code class="hljs language-kotlin code-lines ngde" lang="kotlin" name="demo" icon="kotlin" highlightedlines="[2,3,4,5]"><span class="line ngde"><span class="hljs-keyword ngde">val</span> users: List&#x3C;User> = 
</span><span class="line highlighted ngde">    User().join(UserInfo()){ user, userInfo ->
</span><span class="line highlighted ngde">        on { user.id == userInfo.userId }
</span><span class="line highlighted ngde">        select { user.id + user.name + userInfo.age }
</span><span class="line highlighted ngde">    }.query()
</span></code></pre><p class="ngde">\u53EF\u4EE5\u901A\u8FC7<code class="ngde">leftJoin</code>\u3001<code class="ngde">rightJoin</code>\u3001<code class="ngde">innerJoin</code>\u3001<code class="ngde">crossJoin</code>\u3001<code class="ngde">fullJoin</code>\u7B49\u51FD\u6570\u540C\u65F6\u6307\u5B9A\u8FDE\u63A5\u65B9\u5F0F\u548C\u8FDE\u63A5\u6761\u4EF6\u3002</p><pre class="ngde hljs"><code class="hljs language-kotlin code-lines ngde" lang="kotlin" name="demo" icon="kotlin" highlightedlines="[2,3,4,5,6]"><span class="line ngde"><span class="hljs-keyword ngde">val</span> users: List&#x3C;User> = 
</span><span class="line highlighted ngde">    User().join(UserInfo(), UserTeam()){ user, userInfo, userTeam ->
</span><span class="line highlighted ngde">        leftJoin { user.id == userInfo.userId }
</span><span class="line highlighted ngde">        innerJoin { user.id == userTeam.userId }
</span><span class="line highlighted ngde">        select { user.id + user.name + userInfo.age + userTeam.teamId }
</span><span class="line highlighted ngde">    }.query()
</span></code></pre><h2 id="\u6307\u5B9A\u8FDE\u63A5\u6570\u636E\u8868\u7684\u6570\u636E\u5E93\u8DE8\u5E93\u8FDE\u8868\u67E5\u8BE2" class="ngde">\u6307\u5B9A\u8FDE\u63A5\u6570\u636E\u8868\u7684\u6570\u636E\u5E93\uFF08\u8DE8\u5E93\u8FDE\u8868\u67E5\u8BE2\uFF09<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/database/select-from-join#\u6307\u5B9A\u8FDE\u63A5\u6570\u636E\u8868\u7684\u6570\u636E\u5E93\u8DE8\u5E93\u8FDE\u8868\u67E5\u8BE2"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2><p class="ngde">\u5728Kronos\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<code class="ngde">db</code>\u65B9\u6CD5\u6307\u5B9A\u67E5\u8BE2\u5B57\u6BB5\u3002</p><p class="ngde">\u5C06\u4E00\u5F20\u6216\u591A\u5F20\u8868\u4E0E\u5176\u6240\u5904\u7684\u6570\u636E\u5E93\u540D\u7EC4\u5408\u901A\u8FC7\u4E00\u4E2A\u6216\u591A\u4E2A<code class="ngde">Pair</code>\u7C7B\u4F5C\u4E3A\u53C2\u6570\u4F20\u5165\u8BE5\u65B9\u6CD5\u8FDB\u884C\u8DE8\u5E93\u8FDE\u8868\u67E5\u8BE2</p><pre class="ngde hljs"><code class="hljs language-kotlin code-lines ngde" lang="kotlin" name="demo" icon="kotlin" highlightedlines="[4]"><span class="line ngde"><span class="hljs-keyword ngde">val</span> users: List&#x3C;User> = 
</span><span class="line ngde">    User().join(UserInfo(), UserTeam(), UserRole()){ user, userInfo, userTeam, userRole ->
</span><span class="line ngde">        on { user.id == userInfo.userId &#x26;&#x26; user.id == userTeam.userId &#x26;&#x26; user.id == userRole.userId }
</span><span class="line highlighted ngde">        db(userInfo to <span class="hljs-string ngde">"user_info_database"</span>, userRole to <span class="hljs-string ngde">"user_role_database"</span>)
</span><span class="line ngde">        select { user.id + user.name + userInfo.age + userTeam.teamId + userRole.roleName }
</span><span class="line ngde">    }.query()
</span></code></pre><h2 id="\u4F7F\u7528select\u65B9\u6CD5\u6307\u5B9A\u67E5\u8BE2\u5B57\u6BB5" class="ngde">\u4F7F\u7528<span style="color: #DD6666" class="ngde">select</span>\u65B9\u6CD5\u6307\u5B9A\u67E5\u8BE2\u5B57\u6BB5<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/database/select-from-join#\u4F7F\u7528select\u65B9\u6CD5\u6307\u5B9A\u67E5\u8BE2\u5B57\u6BB5"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2><p class="ngde">\u5728Kronos\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<code class="ngde">select</code>\u65B9\u6CD5\u6307\u5B9A\u67E5\u8BE2\u5B57\u6BB5\uFF0C\u591A\u4E2A\u5B57\u6BB5\u4E4B\u95F4\u4F7F\u7528<code class="ngde">+</code>\u8FDE\u63A5\u3002</p><p class="ngde">\u53EF\u4EE5\u4F7F\u7528<code class="ngde">as</code>\u4E3A\u5B57\u6BB5\u6307\u5B9A\u522B\u540D\uFF0C\u5982<code class="ngde">select { user.id + user.name.\`as\`("userName") + userInfo.age }</code>\u3002</p><p class="ngde">\u5982\u9700\u8981\u67E5\u8BE2\u67D0\u5F20\u8868\u7684\u6240\u6709\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u4F7F\u7528<code class="ngde">select { user }</code>\u3001<code class="ngde">select { user + userInfo + userTeam.teamId }</code>\u3002</p><p class="ngde">\u4E0D\u6307\u5B9A\u67E5\u8BE2\u5B57\u6BB5\u65F6\uFF0C\u9ED8\u8BA4\u67E5\u8BE2\u6240\u6709\u5B57\u6BB5\uFF0C\u6211\u4EEC\u4F1A\u5BF9\u4E0D\u540C\u8868\u76F8\u540C\u5B57\u6BB5\u8FDB\u884C\u91CD\u65B0\u547D\u540D\uFF0C\u4EE5\u907F\u514D\u5B57\u6BB5\u51B2\u7A81\u3002</p><p class="ngde">\u53EF\u4EE5\u4F7F\u7528\u5B57\u7B26\u4E32\u4F5C\u4E3A\u81EA\u5B9A\u4E49\u67E5\u8BE2\u5B57\u6BB5\uFF0C\u5982<code class="ngde">select { "count(\`user.id\`)".as("count") }</code>\u3002</p><pre class="ngde hljs"><code class="hljs language-kotlin code-lines ngde" lang="kotlin" name="demo" icon="kotlin" highlightedlines="[2,3,4,5]"><span class="line ngde"><span class="hljs-keyword ngde">val</span> users: List&#x3C;User> = 
</span><span class="line highlighted ngde">    User().join(UserInfo()){ user, userInfo ->
</span><span class="line highlighted ngde">        on { user.id == userInfo.userId }
</span><span class="line highlighted ngde">        select { user.id + user.name + userInfo.age }
</span><span class="line highlighted ngde">    }.query()
</span></code></pre><h2 id="\u4F7F\u7528query\u65B9\u6CD5\u6267\u884C\u67E5\u8BE2" class="ngde">\u4F7F\u7528<span style="color: #DD6666" class="ngde"><code class="ngde">query</code></span>\u65B9\u6CD5\u6267\u884C\u67E5\u8BE2<a title="Link to heading" class="ng-doc-header-link ngde" href="/en/database/select-from-join#\u4F7F\u7528query\u65B9\u6CD5\u6267\u884C\u67E5\u8BE2"><ng-doc-icon icon="link-2" size="16" class="ngde"></ng-doc-icon></a></h2>`,b=(()=>{let e=class e extends o{constructor(){super(),this.routePrefix="",this.pageType="guide",this.pageContent=x,this.page=s,this.demoAssets=m}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=i({type:e,selectors:[["ng-doc-page-en-database-select-from-join"]],standalone:!0,features:[t([{provide:o,useExisting:e},u,s.providers??[]]),c,r],decls:1,vars:0,template:function(a,P){a&1&&g(0,"ng-doc-page")},dependencies:[p],encapsulation:2,changeDetection:0});let n=e;return n})(),D=[d(l({},(0,f.isRoute)(s.route)?s.route:{}),{path:"",component:b,title:"Select from Join Tables"})],A=D;export{b as DynamicComponent,A as default};
