import{u as s}from"./chunk-3UJNDYOE.js";import{Kb as f,Ma as r,Rc as p,Sa as c,Sc as E,_c as C,fa as v,kb as n,nd as I,pd as o,qa as d,qb as u,ra as m,zb as b}from"./chunk-WBN6TKF6.js";import{a as l,b as h}from"./chunk-TWZW5B45.js";var R=(()=>{class t{document;platformId;host;el;renderer;enterClass;leaveClass;root;rootMargin;threshold;once=!0;observer;resetObserver;isObserverActive=!1;animationState;animationEndListener;constructor(e,i,a,O,g){this.document=e,this.platformId=i,this.host=a,this.el=O,this.renderer=g}ngOnInit(){o(this.platformId)&&this.renderer.setStyle(this.host.nativeElement,"opacity",this.enterClass?"0":"")}ngAfterViewInit(){o(this.platformId)&&this.bindIntersectionObserver()}get options(){return{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold}}bindIntersectionObserver(){this.observer=new IntersectionObserver(([e])=>{this.isObserverActive?e.boundingClientRect.top>0&&(e.isIntersecting?this.enter():this.leave()):e.isIntersecting&&this.enter(),this.isObserverActive=!0},this.options),setTimeout(()=>this.observer.observe(this.host.nativeElement),0),this.resetObserver=new IntersectionObserver(([e])=>{e.boundingClientRect.top>0&&!e.isIntersecting&&(this.host.nativeElement.style.opacity=this.enterClass?"0":"",s.removeMultipleClasses(this.host.nativeElement,[this.enterClass,this.leaveClass]),this.resetObserver.unobserve(this.host.nativeElement)),this.animationState=void 0},h(l({},this.options),{threshold:0}))}enter(){this.animationState!=="enter"&&this.enterClass&&(this.host.nativeElement.style.opacity="",s.removeMultipleClasses(this.host.nativeElement,this.leaveClass),s.addMultipleClasses(this.host.nativeElement,this.enterClass),this.once&&this.unbindIntersectionObserver(),this.bindAnimationEvents(),this.animationState="enter")}leave(){this.animationState!=="leave"&&this.leaveClass&&(this.host.nativeElement.style.opacity=this.enterClass?"0":"",s.removeMultipleClasses(this.host.nativeElement,this.enterClass),s.addMultipleClasses(this.host.nativeElement,this.leaveClass),this.bindAnimationEvents(),this.animationState="leave")}bindAnimationEvents(){this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.host.nativeElement,"animationend",()=>{s.removeMultipleClasses(this.host.nativeElement,[this.enterClass,this.leaveClass]),!this.once&&this.resetObserver.observe(this.host.nativeElement),this.unbindAnimationEvents()}))}unbindAnimationEvents(){this.animationEndListener&&(this.animationEndListener(),this.animationEndListener=null)}unbindIntersectionObserver(){this.observer?.unobserve(this.host.nativeElement),this.resetObserver?.unobserve(this.host.nativeElement),this.isObserverActive=!1}ngOnDestroy(){this.unbindAnimationEvents(),this.unbindIntersectionObserver()}static \u0275fac=function(i){return new(i||t)(n(C),n(c),n(r),n(r),n(u))};static \u0275dir=m({type:t,selectors:[["","pAnimateOnScroll",""]],hostVars:2,hostBindings:function(i,a){i&2&&f("p-animateonscroll",!0)},inputs:{enterClass:"enterClass",leaveClass:"leaveClass",root:"root",rootMargin:"rootMargin",threshold:[2,"threshold","threshold",E],once:[2,"once","once",p]},features:[b]})}return t})(),F=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=d({type:t});static \u0275inj=v({imports:[I]})}return t})();export{R as a,F as b};
