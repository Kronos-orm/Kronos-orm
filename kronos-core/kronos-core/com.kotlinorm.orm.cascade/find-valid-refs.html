<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>findValidRefs</title>
    <link href="../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../styles/style.css" rel="Stylesheet">
<link href="../../styles/main.css" rel="Stylesheet">
<link href="../../styles/prism.css" rel="Stylesheet">
<link href="../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../ui-kit/ui-kit.min.js" defer="defer"></script>
<script type="text/javascript" src="../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
            <a class="library-name--link" href="../../index.html">
                    kronos-core
            </a>
        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle"
                type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
0.0.3-SNAPSHOT        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active=""
                        data-filter=":kronos-core/main">jvm</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox"
                        data-role="dropdown-toggle"
                        aria-controls="platform-tags-listbox"
                        aria-haspopup="listbox"
                        aria-expanded="false"
                        aria-label="Toggle source sets"
                ></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":kronos-core/main"
                                       data-filter=":kronos-core/main"/>
                                <span class="checkbox--icon"></span>
                                jvm
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button"
                    type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list"
                        data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    kronos-core
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="member" id="content" pageIds="kronos-core::com.kotlinorm.orm.cascade//findValidRefs/#kotlin.reflect.KClass[com.kotlinorm.interfaces.KPojo]#kotlin.collections.Collection[com.kotlinorm.beans.dsl.Field]#com.kotlinorm.enums.KOperationType#kotlin.collections.Set[kotlin.String]?#kotlin.Boolean/PointingToDeclaration//1698863696">
  <div class="breadcrumbs"><a href="../../index.html">kronos-core</a><span class="delimiter">/</span><a href="index.html">com.kotlinorm.orm.cascade</a><span class="delimiter">/</span><span class="current">findValidRefs</span></div>
  <div class="cover ">
    <h1 class="cover"><span>find</span><wbr></wbr><span>Valid</span><wbr></wbr><span><span>Refs</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kronos-core/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="find-valid-refs.html"><span class="token function">findValidRefs</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">kClass<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.reflect/-k-class/index.html">KClass</a><span class="token operator">&lt;</span><a href="../com.kotlinorm.interfaces/-k-pojo/index.html">KPojo</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">columns<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-collection/index.html">Collection</a><span class="token operator">&lt;</span><a href="../com.kotlinorm.beans.dsl/-field/index.html">Field</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">operationType<span class="token operator">: </span><a href="../com.kotlinorm.enums/-k-operation-type/index.html">KOperationType</a><span class="token punctuation">, </span></span><span class="parameter ">allowed<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-set/index.html">Set</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">allowAll<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="-valid-cascade/index.html">ValidCascade</a><span class="token operator">&gt;</span></div><p class="paragraph">Identifies and constructs a list of valid cascades for ORM operations based on the provided columns and operation type.</p><p class="paragraph">This function filters through a list of <a href="../com.kotlinorm.beans.dsl/-field/index.html">Field</a> objects to find those that are not directly mapped to database columns but have associated cascades. It then uses reflection to instantiate the cascaded POJOs. Depending on whether the field has a cascade mapping and is applicable for the specified operation type, it either returns the direct cascades or searches through the cascaded POJO's columns for any that have a cascade mapping back to the original table and are applicable for the operation. This process constructs a list of <a href="-valid-cascade/index.html">ValidCascade</a> objects, each encapsulating a field, its cascades, and the instantiated cascaded POJO, which are essential for operations like cascading deletes.</p><p class="paragraph">This function is a core part of the ORM's cascading operations, used to extract valid, usable cascades in different cascade operations to build a tree-like structure of cascading operations.</p><p class="paragraph">根据提供的列和操作类型识别并构建 ORM 操作的有效引用列表。</p><p class="paragraph">此函数通过 <a href="../com.kotlinorm.beans.dsl/-field/index.html">Field</a> 对象列表进行筛选，以查找未直接映射到数据库列但具有相关引用的对象。 然后，它使用反射来实例化引用的 POJO。根据字段是否具有级联映射以及是否适用于指定的操作类型， 它要么返回直接引用，要么在引用的 POJO 的列中搜索任何具有级联映射回原始表并适用于该操作的对象。 此过程构造一个 <a href="-valid-cascade/index.html">ValidCascade</a> 对象列表，每个对象都封装一个字段、其引用和实例化的引用 POJO，这些对象对于级联删除等操作至关重要。</p><p class="paragraph">此函数是 ORM 级联操作的核心部分，它用于在不同的级联操作中提取出有效的、可用的引用，以便构建级联操作的树形结构。</p><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">A list of <a href="-valid-cascade/index.html">ValidCascade</a> objects representing valid cascades for the specified operation type.</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":kronos-core/main" data-filterable-set=":kronos-core/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>columns</span></span></u></div></span></div><div><div class="title"><p class="paragraph">A list of <a href="../com.kotlinorm.beans.dsl/-field/index.html">Field</a> objects representing the columns of a POJO, including those that are not directly mapped to database columns but have associated references.</p></div></div></div></div><div class="table-row" data-filterable-current=":kronos-core/main" data-filterable-set=":kronos-core/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>operation</span><wbr></wbr><span><span>Type</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The <a href="../com.kotlinorm.enums/-k-operation-type/index.html">KOperationType</a> indicating the type of ORM operation (e.g., DELETE) for which the cascades are being validated.</p></div></div></div></div><div class="table-row" data-filterable-current=":kronos-core/main" data-filterable-set=":kronos-core/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>allowed</span></span></u></div></span></div><div><div class="title"><p class="paragraph">A set of strings representing the names of columns that are allowed for the specified operation type.</p></div></div></div></div><div class="table-row" data-filterable-current=":kronos-core/main" data-filterable-set=":kronos-core/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>allow</span><wbr></wbr><span><span>All</span></span></u></div></span></div><div><div class="title"><p class="paragraph">A boolean flag indicating whether not specifying any allowed columns means all columns are allowed.</p></div></div></div></div></div></div></div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>© 2025 Copyright</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>